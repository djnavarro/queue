[{"path":"http://queue.djnavarro.net/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 queue authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://queue.djnavarro.net/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Danielle Navarro. Author, maintainer.","code":""},{"path":"http://queue.djnavarro.net/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Navarro D (2022). queue: Simple Multi-Threaded Task Queuing. https://github.com/djnavarro/queue, http://djnavarro.net/queue/.","code":"@Manual{,   title = {queue: Simple Multi-Threaded Task Queuing},   author = {Danielle Navarro},   year = {2022},   note = {https://github.com/djnavarro/queue, http://djnavarro.net/queue/}, }"},{"path":"http://queue.djnavarro.net/index.html","id":"queue","dir":"","previous_headings":"","what":"Simple Multi-Threaded Task Queuing","title":"Simple Multi-Threaded Task Queuing","text":"queue package allows create multi-threaded task queues","code":""},{"path":"http://queue.djnavarro.net/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simple Multi-Threaded Task Queuing","text":"can install development version queue like :","code":"remotes::install_github(\"djnavarro/queue\")"},{"path":"http://queue.djnavarro.net/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Simple Multi-Threaded Task Queuing","text":"’s basic example: output stored tibble:","code":"library(queue) random_wait <- function() {   Sys.sleep(runif(1, min = 0, max = 5))   Sys.time() } queue <- TaskQueue$new(workers = 6) for(i in 1:20) queue$push(random_wait) out <- queue$run(message = \"verbose\") #> → Task done: task_4 (0.5s) #> → Task done: task_2 (1.23s) #> → Task done: task_8 (0.18s) #> → Task done: task_6 (2.32s) #> → Task done: task_7 (2.04s) #> → Task done: task_1 (2.61s) #> → Task done: task_9 (1.19s) #> → Task done: task_11 (0.25s) #> → Task done: task_5 (3.25s) #> → Task done: task_15 (0.29s) #> → Task done: task_13 (1.09s) #> → Task done: task_10 (2s) #> → Task done: task_3 (4.65s) #> → Task done: task_12 (2.95s) #> → Task done: task_20 (0.3s) #> → Task done: task_18 (2.09s) #> → Task done: task_14 (4.77s) #> → Task done: task_16 (4.55s) #> → Task done: task_17 (4.62s) #> → Task done: task_19 (4.2s) #> ✔ Queue complete: 20 tasks done (8.97s) out #> # A tibble: 20 × 16 #>    task_id worker_id state result     runtime   fun   args   created             #>    <chr>       <int> <chr> <list>     <drtn>    <lis> <list> <dttm>              #>  1 task_1     655413 done  <dttm [1]> 2.610021… <fn>  <list> 2022-12-17 21:23:40 #>  2 task_2     655425 done  <dttm [1]> 1.229150… <fn>  <list> 2022-12-17 21:23:40 #>  3 task_3     655437 done  <dttm [1]> 4.650622… <fn>  <list> 2022-12-17 21:23:40 #>  4 task_4     655449 done  <dttm [1]> 0.497227… <fn>  <list> 2022-12-17 21:23:40 #>  5 task_5     655461 done  <dttm [1]> 3.246130… <fn>  <list> 2022-12-17 21:23:40 #>  6 task_6     655474 done  <dttm [1]> 2.318947… <fn>  <list> 2022-12-17 21:23:40 #>  7 task_7     655449 done  <dttm [1]> 2.043578… <fn>  <list> 2022-12-17 21:23:40 #>  8 task_8     655425 done  <dttm [1]> 0.176116… <fn>  <list> 2022-12-17 21:23:40 #>  9 task_9     655425 done  <dttm [1]> 1.193250… <fn>  <list> 2022-12-17 21:23:40 #> 10 task_10    655474 done  <dttm [1]> 2.004132… <fn>  <list> 2022-12-17 21:23:40 #> 11 task_11    655449 done  <dttm [1]> 0.247079… <fn>  <list> 2022-12-17 21:23:40 #> 12 task_12    655413 done  <dttm [1]> 2.951664… <fn>  <list> 2022-12-17 21:23:40 #> 13 task_13    655425 done  <dttm [1]> 1.090405… <fn>  <list> 2022-12-17 21:23:40 #> 14 task_14    655449 done  <dttm [1]> 4.771457… <fn>  <list> 2022-12-17 21:23:40 #> 15 task_15    655461 done  <dttm [1]> 0.288183… <fn>  <list> 2022-12-17 21:23:40 #> 16 task_16    655461 done  <dttm [1]> 4.551815… <fn>  <list> 2022-12-17 21:23:40 #> 17 task_17    655425 done  <dttm [1]> 4.623109… <fn>  <list> 2022-12-17 21:23:40 #> 18 task_18    655474 done  <dttm [1]> 2.090163… <fn>  <list> 2022-12-17 21:23:40 #> 19 task_19    655437 done  <dttm [1]> 4.203654… <fn>  <list> 2022-12-17 21:23:40 #> 20 task_20    655413 done  <dttm [1]> 0.295464… <fn>  <list> 2022-12-17 21:23:40 #> # … with 8 more variables: queued <dttm>, assigned <dttm>, started <dttm>, #> #   finished <dttm>, code <int>, message <chr>, stdout <list>, stderr <list>"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class storing a task — Task","title":"R6 class storing a task — Task","text":"R6 class storing task R6 class storing task","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class storing a task — Task","text":"task container holds function arguments, eventually results function called. Various metadata fields stored.","code":""},{"path":[]},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class storing a task — Task","text":"Task$new() Task$retrieve() Task$get_task_fun() Task$get_task_args() Task$get_task_state() Task$get_task_id() Task$get_task_runtime() Task$register_task_created() Task$register_task_waiting() Task$register_task_assigned() Task$register_task_running() Task$register_task_done() Task$clone()","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class storing a task — Task","text":"Create new task object.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$new(fun, args = list(), id = NULL)"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a task — Task","text":"fun function called task executes. args list arguments passed function (optional). id string specifying unique task identifier (optional).","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"new Task object.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-retrieve-","dir":"Reference","previous_headings":"","what":"Method retrieve()","title":"R6 class storing a task — Task","text":"Retrieve tidy summary task state.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$retrieve()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"tibble one row","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-get-task-fun-","dir":"Reference","previous_headings":"","what":"Method get_task_fun()","title":"R6 class storing a task — Task","text":"Retrieve task function.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$get_task_fun()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-get-task-args-","dir":"Reference","previous_headings":"","what":"Method get_task_args()","title":"R6 class storing a task — Task","text":"Retrieve task arguments","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$get_task_args()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"list.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-get-task-state-","dir":"Reference","previous_headings":"","what":"Method get_task_state()","title":"R6 class storing a task — Task","text":"Retrieve task state.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$get_task_state()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"string specifying current state task. Possible values \"created\" (task exists), \"waiting\" (task exists waiting queue), \"assigned\" (task assigned worker yet started), \"running\" (task running worker), \"done\" (task completed results assigned back task object)","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-get-task-id-","dir":"Reference","previous_headings":"","what":"Method get_task_id()","title":"R6 class storing a task — Task","text":"Retrieve task id.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$get_task_id()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"string containing task identifier.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-get-task-runtime-","dir":"Reference","previous_headings":"","what":"Method get_task_runtime()","title":"R6 class storing a task — Task","text":"Retrieve task runtime.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$get_task_runtime()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"task completed, difftime value. task yet complete, NA value returned","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-register-task-created-","dir":"Reference","previous_headings":"","what":"Method register_task_created()","title":"R6 class storing a task — Task","text":"Register task creation updating internal storage. intended called Worker objects. Users need call .","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$register_task_created()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function called side-effects. Returns NULL invisibly.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-register-task-waiting-","dir":"Reference","previous_headings":"","what":"Method register_task_waiting()","title":"R6 class storing a task — Task","text":"Register addition task queue updating internal storage. intended called Worker objects. Users need call .","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$register_task_waiting()"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function called side-effects. Returns NULL invisibly.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-register-task-assigned-","dir":"Reference","previous_headings":"","what":"Method register_task_assigned()","title":"R6 class storing a task — Task","text":"Register assignment task worker updating internal storage. intended called Worker objects. Users need call .","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$register_task_assigned(worker_id)"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a task — Task","text":"worker_id Identifier worker task assigned.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-9","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function called side-effects. Returns NULL invisibly.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-register-task-running-","dir":"Reference","previous_headings":"","what":"Method register_task_running()","title":"R6 class storing a task — Task","text":"Register commencement task worker updating internal storage. intended called Worker objects. Users need call .","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$register_task_running(worker_id)"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a task — Task","text":"worker_id Identifier worker task starting.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-10","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function called side-effects. Returns NULL invisibly.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-register-task-done-","dir":"Reference","previous_headings":"","what":"Method register_task_done()","title":"R6 class storing a task — Task","text":"Register finishing task worker updating internal storage. intended called Worker objects. Users need call .","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$register_task_done(results)"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a task — Task","text":"results Results read R session.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"returns-11","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a task — Task","text":"function called side-effects. Returns NULL invisibly.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class storing a task — Task","text":"objects class cloneable method.","code":""},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a task — Task","text":"","code":"Task$clone(deep = FALSE)"},{"path":"http://queue.djnavarro.net/reference/Task.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a task — Task","text":"deep Whether make deep clone.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for a multi-worker task queue — TaskQueue","title":"R6 class for a multi-worker task queue — TaskQueue","text":"R6 class multi-worker task queue R6 class multi-worker task queue","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Documentation baby...","code":""},{"path":[]},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for a multi-worker task queue — TaskQueue","text":"TaskQueue$new() TaskQueue$push() TaskQueue$run() TaskQueue$retrieve() TaskQueue$get_queue_report() TaskQueue$get_queue_workers() TaskQueue$clone()","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Create task queue","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$new(workers = 4L)"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a multi-worker task queue — TaskQueue","text":"workers Either number workers employ task queue, WorkerPool object use deploying tasks.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"new TaskQueue object","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-push-","dir":"Reference","previous_headings":"","what":"Method push()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Adds task queue","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$push(fun, args = list(), id = NULL)"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a multi-worker task queue — TaskQueue","text":"fun function called task scheduled args list arguments passed task function (optional) id string specifying unique identifier task (optional: tasks named \"task_1\", \"task_2\", etc unspecified)","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Invisibly returns Task object","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-run-","dir":"Reference","previous_headings":"","what":"Method run()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Execute tasks parallel using worker pool, assigning tasks workers order added queue","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$run(   timelimit = 60,   message = \"minimal\",   interval = 0.05,   shutdown = TRUE )"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a multi-worker task queue — TaskQueue","text":"timelimit long (seconds) worker pool wait task complete terminating child process moving onto next task? (default 60 seconds, fairly arbitrary) message messages reported queue running? Options \"none\" (messages), \"minimal\" (spinner shown alongside counts waiting, running, completed tasks), \"verbose\" (addition spinner, task summarized completes). Default \"minimal\". interval often task queue poll workers see finished assigned tasks? Specified seconds. shutdown workers pool shut (.e., R sessions closed) tasks completed. Defaults TRUE.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Returns tibble containing results executed tasks various useful metadata.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-retrieve-","dir":"Reference","previous_headings":"","what":"Method retrieve()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Retrieve full state tasks queue tidy form. tasks completed output output run() method.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$retrieve()"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Returns tibble containing results executed tasks various useful metadata. Incomplete tasks nay missing data.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-get-queue-report-","dir":"Reference","previous_headings":"","what":"Method get_queue_report()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Get simplified description current state task queue. corresponding private method used internally generate progress reports monitor progress task queue, might handy public version.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$get_queue_report()"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Returns tibble three columns: task_id, state, runtime","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-get-queue-workers-","dir":"Reference","previous_headings":"","what":"Method get_queue_workers()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"Retrieve workers","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$get_queue_workers()"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for a multi-worker task queue — TaskQueue","text":"WorkerPool object","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for a multi-worker task queue — TaskQueue","text":"objects class cloneable method.","code":""},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a multi-worker task queue — TaskQueue","text":"","code":"TaskQueue$clone(deep = FALSE)"},{"path":"http://queue.djnavarro.net/reference/TaskQueue.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a multi-worker task queue — TaskQueue","text":"deep Whether make deep clone.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class storing a worker — Worker","title":"R6 class storing a worker — Worker","text":"R6 class storing worker R6 class storing worker","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class storing a worker — Worker","text":"Worker container holds callr rsession object, possesses fields methods allow work Tasks","code":""},{"path":[]},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class storing a worker — Worker","text":"Worker$new() Worker$get_worker_id() Worker$get_worker_state() Worker$get_worker_runtime() Worker$get_worker_task() Worker$get_worker_session() Worker$try_assign() Worker$try_start() Worker$try_finish() Worker$shutdown_worker() Worker$clone()","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class storing a worker — Worker","text":"Create new worker object.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$new()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"new Worker object.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-get-worker-id-","dir":"Reference","previous_headings":"","what":"Method get_worker_id()","title":"R6 class storing a worker — Worker","text":"Retrieve worker identifier.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$get_worker_id()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"worker identifier (also pid R process)","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-get-worker-state-","dir":"Reference","previous_headings":"","what":"Method get_worker_state()","title":"R6 class storing a worker — Worker","text":"Retrieve worker state.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$get_worker_state()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"string specifying current state task. Possible values \"starting\" (R session starting ), \"idle\" (R session ready compute), \"busy\" (R session computing), \"finished\" (R session terminated). Importantly, note task function still running task function essentially finished waiting return return \"busy\". distinguish two cases need use poll_process() method callr::rsession, returned get_worker_session().","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-get-worker-runtime-","dir":"Reference","previous_headings":"","what":"Method get_worker_runtime()","title":"R6 class storing a worker — Worker","text":"Return total length time worker session running, length time current task running. session finished values NA. session idle (task running) total session time return value current task time NA.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$get_worker_runtime()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"vector two difftimes.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-get-worker-task-","dir":"Reference","previous_headings":"","what":"Method get_worker_task()","title":"R6 class storing a worker — Worker","text":"Retrieve task assigned worker.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$get_worker_task()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"Task object currently assigned Worker, NULL.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-get-worker-session-","dir":"Reference","previous_headings":"","what":"Method get_worker_session()","title":"R6 class storing a worker — Worker","text":"Retrieve R session linked worker","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$get_worker_session()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"R session object, see callr::r_session","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-try-assign-","dir":"Reference","previous_headings":"","what":"Method try_assign()","title":"R6 class storing a worker — Worker","text":"Attempt assign task worker. method checks task worker appropriate state. , objects register connection . method intended called WorkerPool TaskQueue.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$try_assign(task)"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a worker — Worker","text":"task Task object corresponding --assigned task.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"Invisibly returns TRUE FALSE, depending whether attempt successful.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-try-start-","dir":"Reference","previous_headings":"","what":"Method try_start()","title":"R6 class storing a worker — Worker","text":"Attempt start task. method checks see worker assigned task, starts running within R session. also registers change status within Task object . method intended called WorkerPool TaskQueue.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$try_start()"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"Invisibly returns TRUE FALSE, depending whether attempt successful.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-try-finish-","dir":"Reference","previous_headings":"","what":"Method try_finish()","title":"R6 class storing a worker — Worker","text":"Attempt finish running task politely. method checks see worker running task, polls R session determine R process claims ready return. ready--return task results read R process returned Task object. task status updated, unassigned Worker. method intended called WorkerPool TaskQueue.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$try_finish(timeout = 0)"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a worker — Worker","text":"timeout Length time wait process polled (default = 0)","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a worker — Worker","text":"Invisibly returns TRUE FALSE, depending whether attempt successful.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-shutdown-worker-","dir":"Reference","previous_headings":"","what":"Method shutdown_worker()","title":"R6 class storing a worker — Worker","text":"Attempt shut R session gracefully, making attempt salvage task worker believes still running","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$shutdown_worker(grace = 1000)"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a worker — Worker","text":"grace Grace period milliseconds. process still running period, killed.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class storing a worker — Worker","text":"objects class cloneable method.","code":""},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a worker — Worker","text":"","code":"Worker$clone(deep = FALSE)"},{"path":"http://queue.djnavarro.net/reference/Worker.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a worker — Worker","text":"deep Whether make deep clone.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class storing a pool of workers — WorkerPool","title":"R6 class storing a pool of workers — WorkerPool","text":"R6 class storing pool workers R6 class storing pool workers","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class storing a pool of workers — WorkerPool","text":"WorkerPool container holds one workers can request assign tasks, start tasks, complete tasks. can also check see worker sessions crashed restart needed. fields methods allow work Tasks","code":""},{"path":[]},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class storing a pool of workers — WorkerPool","text":"WorkerPool$new() WorkerPool$get_pool_worker() WorkerPool$get_pool_state() WorkerPool$try_assign() WorkerPool$try_start() WorkerPool$try_finish() WorkerPool$refill_pool() WorkerPool$shutdown_pool() WorkerPool$shutdown_overdue_workers() WorkerPool$clone()","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class storing a pool of workers — WorkerPool","text":"Create new worker pool","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$new(workers = 4L)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"workers number workers pool.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"new WorkerPool object.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-get-pool-worker-","dir":"Reference","previous_headings":"","what":"Method get_pool_worker()","title":"R6 class storing a pool of workers — WorkerPool","text":"Return specific worker","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$get_pool_worker(ind)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"ind index worker pool","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"corresponding Worker object.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-get-pool-state-","dir":"Reference","previous_headings":"","what":"Method get_pool_state()","title":"R6 class storing a pool of workers — WorkerPool","text":"Return simple summary worker pool","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$get_pool_state()"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-2","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"named character vector specifying current state worker (\"starting\", \"idle\", \"busy\", \"finished\"). Names denote worker ids","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-try-assign-","dir":"Reference","previous_headings":"","what":"Method try_assign()","title":"R6 class storing a pool of workers — WorkerPool","text":"Attempt assign tasks workers. method intended called TaskQueue objects.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$try_assign(tasks)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"tasks list Task objects","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-3","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"Invisibly returns NULL","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-try-start-","dir":"Reference","previous_headings":"","what":"Method try_start()","title":"R6 class storing a pool of workers — WorkerPool","text":"Attempt start assigned -yet-started tasks worker pool. method intended called TaskQueue objects.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$try_start()"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-4","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"Invisibly returns NULL","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-try-finish-","dir":"Reference","previous_headings":"","what":"Method try_finish()","title":"R6 class storing a pool of workers — WorkerPool","text":"Attempt finish started -yet-returned tasks worker pool. method intended called TaskQueue objects.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$try_finish()"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-5","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"Invisibly returns NULL","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-refill-pool-","dir":"Reference","previous_headings":"","what":"Method refill_pool()","title":"R6 class storing a pool of workers — WorkerPool","text":"Check workers pool looking workers crashed shutdown, replace fresh workers.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$refill_pool()"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-6","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"function called primarily side effect. returns named character documenting outcome, indicating current state worker: \"finished\" worker. Names denote worker ids.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-shutdown-pool-","dir":"Reference","previous_headings":"","what":"Method shutdown_pool()","title":"R6 class storing a pool of workers — WorkerPool","text":"Terminate workers worker pool.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$shutdown_pool(grace = 1000)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"grace Grace period milliseconds. worker process still running period, killed.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-7","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"function called primarily side effect. returns named character documenting outcome, indicating current state worker: \"finished\" workers. Names denote worker ids.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-shutdown-overdue-workers-","dir":"Reference","previous_headings":"","what":"Method shutdown_overdue_workers()","title":"R6 class storing a pool of workers — WorkerPool","text":"Terminate workers worked current task longer pre-specified time limit.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$shutdown_overdue_workers(timelimit, grace = 1000)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"timelimit Pre-specified time limit task, seconds. grace Grace period shutdown, milliseconds. worker process still running period, killed.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"returns-8","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class storing a pool of workers — WorkerPool","text":"function called primarily side effect. returns named character documenting outcome, indicating current state worker: \"finished\" workers. Names denote worker ids.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class storing a pool of workers — WorkerPool","text":"objects class cloneable method.","code":""},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class storing a pool of workers — WorkerPool","text":"","code":"WorkerPool$clone(deep = FALSE)"},{"path":"http://queue.djnavarro.net/reference/WorkerPool.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class storing a pool of workers — WorkerPool","text":"deep Whether make deep clone.","code":""}]
